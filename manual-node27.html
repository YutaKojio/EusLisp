<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//JP">

<!--Converted with LaTeX2HTML 2018 (Released Feb 1, 2018) -->
<HTML>
<HEAD>
<TITLE>Miscellaneous</TITLE>
<META NAME="description" CONTENT="Miscellaneous">
<META NAME="keywords" CONTENT="manual">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="Generator" CONTENT="LaTeX2HTML v2018">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="manual.css">

<LINK REL="previous" HREF="manual-node26.html">
<LINK REL="up" HREF="manual-node15.html">
<LINK REL="next" HREF="manual-node28.html">
</HEAD>

<BODY >

<DIV CLASS="navigation">
<BR>
<B> Next:</B> <A NAME="tex2html1016"
  HREF="manual-node28.html">Bibliography</A>
<B>Up:</B> <A NAME="tex2html1010"
  HREF="manual-node15.html">EusLisp Extensions</A>
<B> Previous:</B> <A NAME="tex2html1006"
  HREF="manual-node26.html">HTTP</A>
<BR> <P>
</DIV>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL CLASS="ChildLinks">
<LI><A NAME="tex2html1017"
  HREF="manual-node27.html#SECTION030121000000000000000">Argument Parser</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION030120000000000000000">
Miscellaneous</A>
</H1>

<P>

<H2><A NAME="SECTION030121000000000000000">
Argument Parser</A>
</H2>

<P>

 <BR>
<BR> <P>
	<BR> 
<A NAME="53565"></A>
<BIG CLASS="LARGE"><B>argument-parser </B></BIG> [class]  <PRE><TT>
  :super   <B>propertied-object</B> 
<BR>  :slots 		 flaglst docstring parsed-p 
</TT></PRE>
<BR>
<BR>

<DL COMPACT>
<DT> 
<DD>command line argument parser.
</DD>
</DL>
<BR>
<BR>

<P>

<A NAME="53582"></A>
<B>:init</B> <EM>&amp;key prog description epilog (add-help t) </EM>[method]

<DL COMPACT>
<DT> 
<DD> 
instantiates argument-parser class object from the name of the program,
description text to display before the argument help and text to
display after them as an epilog.
</DD>
</DL>
<BR>
<BR>

<P>

<A NAME="53592"></A>
<B>:add-argument</B> <EM>flags &amp;key (action :store) const default choices check read required help dest </EM>[method]

<DL COMPACT>
<DT> 
<DD> 
defines the command-line argument to be parsed.

<P>
<TT>flag</TT> specify the options strings such as <TT>"-foo"</TT> or <TT>  "-b"</TT>. It also takes list values i.e. <TT>'("-bar" "-b")</TT>.

<P>
<TT>action</TT> defines the behavior when this argument is passed to the
program. Current supported actions are <TT>:store</TT>, <TT>:store-true</TT>,
<TT>:store-false</TT>, <TT>:store-const</TT>, <TT>:append</TT>, and custom functions.
<TT>help</TT> defines the help document text.
Most of the arguments are designed according to https://docs.python.org/3/library/argparse.html.
</DD>
</DL>
<BR>
<BR>

<P>

<A NAME="53613"></A>
<B>:parse-args</B> [method]

<DL COMPACT>
<DT> 
<DD> 
parses command line argument from <TT>lisp::*eustop-argument*</TT>. This
method must be called before sending an argument name method to <TT> argument-parser</TT> instance.
</DD>
</DL>
<BR>
<BR>

<P>
The following shows an example of <TT>argument-parser</TT>.

<P>
<PRE>
(require :argparse "argparse.l")

(defvar argparse (instance argparse:argument-parser :init
                           :description "Program Description (optional)"))
(send argparse :add-argument "--foo" :default 10 :read t
      :help "the foo description")
(send argparse :add-argument '("--bar" "-b") :action :store-true
      :help "the bar description")

(send argparse :parse-args)
(format t "foo: ~A~%" (send argparse :foo))
(format t "bar: ~A~%" (send argparse :bar))
(exit)
</PRE>

<P>
The following is an output of the example program above.

<P>
<PRE>
$ eus argparse-example.l
foo: 10
bar: t
$ eus argparse-example.l --foo=100 --bar
foo: 100
bar: t
$ eus argparse-example.l -h
usage: [-h] [--foo=FOO] [-b]

Program Description (optional)

optional arguments:
  -h, --help	show this help message and exit
  --foo=FOO	the foo description (default: 10)
  -b, --bar	the bar description
</PRE>

<P>
             
<DIV CLASS="navigation"><HR>
<BR>
<B> Next:</B> <A NAME="tex2html1016"
  HREF="manual-node28.html">Bibliography</A>
<B>Up:</B> <A NAME="tex2html1010"
  HREF="manual-node15.html">EusLisp Extensions</A>
<B> Previous:</B> <A NAME="tex2html1006"
  HREF="manual-node26.html">HTTP</A>
</DIV>
<!--End of Navigation Panel-->
<ADDRESS>
This document was generated using the LaTeX2HTML translator on Sat Feb  5 14:36:57 JST 2022 from <a href="http://github.com/euslisp/EusLisp.git">EusLisp</a> version <a href="http://github.com/euslisp/EusLisp/commit/138fb6ee5139acbd2d96f8b66f72cd43ad3311b1">138fb6ee Merge pull request #482 from k-okada/apply_dfsg_patch</a>
</ADDRESS>
</BODY>
</HTML>
