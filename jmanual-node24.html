<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//JP">

<!--Converted with LaTeX2HTML 2018 (Released Feb 1, 2018) -->
<HTML>
<HEAD>
<TITLE>その他の機能</TITLE>
<META NAME="description" CONTENT="その他の機能">
<META NAME="keywords" CONTENT="jmanual">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="Generator" CONTENT="LaTeX2HTML v2018">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="manual.css">

<LINK REL="previous" HREF="jmanual-node23.html">
<LINK REL="up" HREF="jmanual-node13.html">
<LINK REL="next" HREF="jmanual-node25.html">
</HEAD>

<BODY >

<DIV CLASS="navigation">
<BR>
<B> Next:</B> <A NAME="tex2html936"
  HREF="jmanual-node25.html">Bibliography</A>
<B>Up:</B> <A NAME="tex2html930"
  HREF="jmanual-node13.html">EusLisp 拡張</A>
<B> Previous:</B> <A NAME="tex2html926"
  HREF="jmanual-node23.html">MARS: マルチ自律ロボットシミュレータ</A>
<BR> <P>
</DIV>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL CLASS="ChildLinks">
<LI><A NAME="tex2html937"
  HREF="jmanual-node24.html#SECTION030111000000000000000">Argument Parser</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION030110000000000000000">
その他の機能</A>
</H1>

<P>

<H2><A NAME="SECTION030111000000000000000">
Argument Parser</A>
</H2>

<P>

 <BR>
<BR> <P>
	<BR> 
<A NAME="54940"></A>
<BIG CLASS="LARGE"><B>argument-parser </B></BIG> [クラス]  <PRE><TT>
  :super   <B>propertied-object</B> 
<BR>  :slots 		 flaglst docstring parsed-p 
</TT></PRE>
<BR>
<BR>

<DL COMPACT>
<DT> 
<DD>コマンドライン引数のパーサを定義する。
</DD>
</DL>
<BR>
<BR>

<P>

<A NAME="54957"></A>
<B>:init</B> <EM>&amp;key prog description epilog (add-help t) </EM>[メソッド]

<DL COMPACT>
<DT> 
<DD> 
プログラム名，自動生成されるヘルプテキストの前後に表示するテキストから，
オブジェクトを生成する。
</DD>
</DL>
<BR>
<BR>

<P>

<A NAME="54967"></A>
<B>:add-argument</B> <EM>flags &amp;key (action :store) const default choices check read required help dest </EM>[メソッド]

<DL COMPACT>
<DT> 
<DD> 
コマンドライン引数を定義する。

<P>
<TT>flag</TT> は <TT>"-foo"</TT> や <TT>"-b"</TT> の引数オプションを定義する。
引数は<TT>'("-bar" "-b")</TT>等のリストで与えることも可能である。

<P>
<TT>action</TT> はプログラムに引数が渡されたときの挙動を指定する。
現在サポートされている<TT>action</TT> は <TT>:store</TT>, <TT>:store-true</TT>,
<TT>:store-false</TT>, <TT>:store-const</TT>, <TT>:append</TT>, そしてカスタム関数である。
<TT>help</TT> はヘルプドキュメントを指定する。
ほとんどのパラメータはhttps://docs.python.org/3/library/argparse.htmlに習って設計されている。
</DD>
</DL>
<BR>
<BR>

<P>

<A NAME="54989"></A>
<B>:parse-args</B> [メソッド]

<DL COMPACT>
<DT> 
<DD> 
<TT>lisp::*eustop-argument*</TT> を用いてコマンドライン引数をパースする。
このメソッドは<TT>argument-parser</TT> インスタンスに引数オプション名メ
ソッドを与える前に呼ばなければならない。
</DD>
</DL>
<BR>
<BR>

<P>
<TT>argument-parser</TT>のサンプルプログラムを以下に示す。

<P>
<PRE>
(require :argparse "argparse.l")

(defvar argparse (instance argparse:argument-parser :init
                           :description "Program Description (optional)"))
(send argparse :add-argument "--foo" :default 10 :read t
      :help "the foo description")
(send argparse :add-argument '("--bar" "-b") :action :store-true
      :help "the bar description")

(send argparse :parse-args)
(format t "foo: ~A~%" (send argparse :foo))
(format t "bar: ~A~%" (send argparse :bar))
(exit)
</PRE>

<P>
このサンプルプログラムを実行したときの出力は以下のようになる。

<P>
<PRE>
$ eus argparse-example.l
foo: 10
bar: t
$ eus argparse-example.l --foo=100 --bar
foo: 100
bar: t
$ eus argparse-example.l -h
usage: [-h] [--foo=FOO] [-b]

Program Description (optional)

optional arguments:
  -h, --help	show this help message and exit
  --foo=FOO	the foo description (default: 10)
  -b, --bar	the bar description
</PRE>

<P>
             <BR><HR>
<ADDRESS>
This document was generated using the LaTeX2HTML translator on Sat Feb  5 14:36:44 JST 2022 from <a href="http://github.com/euslisp/EusLisp.git">EusLisp</a> version <a href="http://github.com/euslisp/EusLisp/commit/138fb6ee5139acbd2d96f8b66f72cd43ad3311b1">138fb6ee Merge pull request #482 from k-okada/apply_dfsg_patch</a>
</ADDRESS>
</BODY>
</HTML>
